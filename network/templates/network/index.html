{% extends "network/layout.html" %}

{% block body %}
    <div class="content">
        <h1>{{h1}}</h1>
        <!-- First, if logged in, disply a form to submit a new post -->
        {% if user.is_authenticated and display_new_post%}
        <div class="post">
            <h2>New Post</h2>
            <form action="{% url 'index' %}" method="POST">
                {% csrf_token %}
                <textarea type="text" name="text" placeholder="Posts are 280 characters max" rows="3" maxlength="280" required></textarea>
                <br>
                <button class="btn btn-primary">Post</button>
            </form>
        </div>
        {% endif %}
        <!-- Display all posts of everyones -->
        {% for post in posts %}
            <div class="post">
                <a href="{% url 'profile' post.author.id %}"><h2>{{ post.author.username }}</h2></a>
                <a href="#">Edit</a>
                <p>{{ post.text }}</p>
                <p class="post_time">{{ post.time_creation }}</p>
                <!-- POST.LIKES DEVRAIT ETRE LE NOMBRE DE LIKE -->
                <p>❤️ {% if post.likes %}
                        {{ post.likes }}
                     {% else %}
                        0
                     {% endif %}
                </p>
                <!-- A COMPLETER  avec comment ???-->
            </div>
        {% endfor %}
    </div>
{% endblock %}